This is the c loop functions
